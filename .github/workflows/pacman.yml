name: Simple Pacman

on:
  workflow_dispatch:

jobs:
  build:
    runs-on: ubuntu-latest
    permissions:
      contents: write
      
    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Create simple pacman
        run: |
          cat > pacman-simple.svg << 'EOF'
          <svg width="100%" height="80" xmlns="http://www.w3.org/2000/svg">
            <style>
              @keyframes move { 0% { transform: translateX(100%); } 100% { transform: translateX(-100px); } }
              @keyframes mouth { 0%,100% { clip-path: polygon(50% 50%, 100% 0, 100% 100%); } 50% { clip-path: polygon(50% 50%, 100% 20%, 100% 80%); } }
              .container { animation: move 4s infinite linear; }
              .pacman { animation: mouth 0.4s infinite; fill: #FFD700; }
              .dots { animation: move 4s infinite linear; }
            </style>
            <rect width="100%" height="100%" fill="#0d1117"/>
            <g class="dots">
              <circle cx="50" cy="40" r="3" fill="#FFD700"/>
              <circle cx="80" cy="40" r="3" fill="#FFD700"/>
              <circle cx="110" cy="40" r="3" fill="#FFD700"/>
              <circle cx="140" cy="40" r="3" fill="#FFD700"/>
              <circle cx="170" cy="40" r="3" fill="#FFD700"/>
              <circle cx="200" cy="40" r="3" fill="#FFD700"/>
            </g>
            <g class="container">
              <circle cx="30" cy="40" r="15" class="pacman"/>
            </g>
          </svg>
          EOF
          
      - name: Deploy
        uses: peaceiris/actions-gh-pages@v3
        with:
          github_token: ${{ secrets.GITHUB_TOKEN }}
          publish_branch: output
          keep_files: false
